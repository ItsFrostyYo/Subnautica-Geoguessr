<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Primary Title & Description -->
  <title>Geonautica | On Dashboard (Update 0.7.5-Beta of January 17, 2026)</title>
  <meta name="description" content="Dive into the Depths of Geonautica! Test your Location Knowledge across iconic Subnautica Biomes. (Version 0.7.5-Beta)" />
  <meta name="keywords" content="Subnautica, GeoGuessr, Subnautica GeoGuessr, SubnauticaGeoguessr, Subnautica Biomes, SubnauticaBiomes, Subnautica Game, Subnautica Fan Game, Subnautica FanGame, Exploration, Ocean Game" />
  <meta name="author" content="ItsFrosti, Sprinter_31" />

  <!-- Open Graph / Discord / Facebook -->
  <meta property="og:title" content="Geonautica | Guess Locations Across the Subnautica Map!" />
  <meta property="og:description" content="Dive into the Depths of Geonautica! Test your Location Knowledge across iconic Subnautica Biomes. (Version 0.7.5-Beta)" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://geonautica.netlify.app/" />
  <meta property="og:image" content="https://itsfrostyyo.github.io/Subnautica-Geoguessr/Background/DashboardBackground.png" />
  <meta property="og:site_name" content="Geonautica" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Geonautica | Guess Locations Across the Subnautica Map!" />
  <meta name="twitter:description" content="Dive into the Depths of Geonautica! Test your Location Knowledge across iconic Subnautica Biomes. (Version 0.7.5-Beta)" />
  <meta name="twitter:image" content="https://itsfrostyyo.github.io/Subnautica-Geoguessr/Background/DashboardBackground.png" />

  <!-- Favicon & Mobile Icons -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
  <link rel="manifest" href="site.webmanifest" />
  <meta name="theme-color" content="#00ffff" />

<style>
body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #00ffff;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: url("Background/DashboardBackground.png") no-repeat center center fixed;
  background-size: cover;
  position: relative;
  transition: background-image 0.6s ease-in-out;
}

body::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(10,15,20,0.75);
  z-index: 0;
}

* { position: relative; z-index: 1; }

#scale-wrapper {
  transform: scale(1.08);
  transform-origin: center;
}

#main-ui {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
}

header {
  text-align: center;
  cursor: pointer;
}

header h1 {
  font-size: 6rem;
  margin-top: -22px;
  margin-bottom: 6px;
  letter-spacing: 2px;
}

header p { font-size: 1.1rem; }

.username-container {
  display: flex;
  justify-content: center;
}

#username-input {
  background: #0a1a20cc;
  border: 2px solid #00ffff;
  border-radius: 12px;
  color: #00ffff;
  padding: 12px;
  width: 220px;
  text-align: center;
}

.gamemode-container {
  display: flex;
  flex-direction: column;
  gap: 22px;
  transition: opacity 0.4s ease;
}

.gamemode-row {
  display: flex;
  gap: 26px;
  justify-content: center;
}

.gamemode-card {
  width: 240px;
  height: 78px;
  border: 2px solid #00ffff;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  cursor: pointer;
  background-size: cover;
  background-position: center;
  text-shadow: 0 0 8px #000;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.gamemode-card:hover {
  transform: scale(1.06);
  box-shadow: 0 0 18px #00ffff;
}

.entire-map-wrapper {
  position: relative;
  display: flex;
  justify-content: center;
  width: 100%;
  transition: opacity 0.4s ease;
}

.entire-map {
  width: 640px;
  padding: 38px 0;
  font-size: 1.9rem;
  font-weight: bold;
  border: 3px solid #00ffff;
  border-radius: 28px;
  background: radial-gradient(circle, #00ffff66, #00ffff22);
  color: #00ffff;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.entire-map:hover {
  transform: scale(1.04);
  box-shadow: 0 0 30px #00ffff;
}

.version-inline {
  position: absolute;
  right: calc(50% + 360px);
  top: 50%;
  transform: translateY(-50%);
  text-align: right;
  font-size: 0.95rem;
  opacity: 0.85;
}

.version-inline button {
  margin-top: 8px;
  padding: 6px 14px;
  border: 2px solid #00ffff;
  border-radius: 10px;
  background: none;
  color: #00ffff;
  cursor: pointer;
}

.version-inline button:hover {
  transform: scale(1.06);
  box-shadow: 0 0 18px #00ffff;
}

.discord-inline {
  position: absolute;
  right: calc(50% + 520px); /* slightly LEFT of version */
  top: 50%;
  transform: translateY(-50%);
  text-align: right;
  font-size: 0.95rem;
  opacity: 0.95;
}

.discord-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border: 2px solid #5865F2; /* Discord brand color */
  border-radius: 12px;
  background: none;
  color: #5865F2;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.discord-button img {
  width: 20px;
  height: 20px;
}

.discord-button:hover {
  transform: scale(1.06);
  box-shadow: 0 0 16px #5865F2;
}

.credits-inline {
  position: absolute;
  left: calc(50% + 360px);
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.95rem;
  opacity: 0.85;
}

.panel {
  display: none;
  flex-direction: column;
  align-items: center;
  background: #112029cc;
  border: 2px solid #00ffff;
  border-radius: 16px;
  padding: 22px;
  width: 600px;
  opacity: 0;
  transform: scale(0.97);
  transition: opacity 0.4s ease, transform 0.4s ease;
}

.panel.active {
  opacity: 1;
  transform: scale(1);
}

.mode-buttons {
  display: flex;
  gap: 16px;
  margin: 14px 0;
}

.mode-btn {
  border: 2px solid #00ffff;
  background: none;
  color: #00ffff;
  padding: 10px 18px;
  border-radius: 12px;
  cursor: pointer;
}

.mode-btn.active {
  background: #00ffff;
  color: #0a0f14;
}

.play-btn {
  background: #00ffff;
  color: #0a0f14;
  border: none;
  padding: 10px 28px;
  border-radius: 12px;
  cursor: pointer;
}

#back-button {
  position: fixed;
  top: 20px;
  left: 22px;
  display: none;
  border: 2px solid #00ffff;
  border-radius: 12px;
  padding: 8px 18px;
  background: none;
  color: #00ffff;
  cursor: pointer;
}
/* ===== FIX Update Notes Layout ===== */

/* Allow update notes to be horizontal */
#update-notes.panel {
  align-items: stretch;
  width: 1100px; /* enough space for map + text */
}

/* Horizontal split */
.update-notes-layout {
  display: flex;
  gap: 26px;
  width: 100%;
  align-items: flex-start;
}

/* Inner blocks inside Update Notes */
.update-notes-card {
  background: #112029cc;
  border: 2px solid #00ffff;
  border-radius: 16px;
  padding: 22px;
}

/* Left: map card sizing */
.coverage-column {
  flex: 0 0 460px;
}

/* CENTER: text (original behavior preserved) */
.notes-column {
  flex: 1;
}

/* Remove the outer Update Notes panel visuals */
#update-notes.panel {
  background: none;
  border: none;
  padding: 0;
}

/* Center "Update Notes" above BOTH panels */
.update-notes-header {
  width: 100%;
  text-align: center;
  margin-bottom: 18px;
}

.update-notes-header h1 {
  margin: 0;
  font-size: 2.6rem;
}

</style>
</head>

<body>

<button id="back-button" onclick="returnToDashboard()">‚Üê Back</button>

<div id="scale-wrapper">
<div id="main-ui">

<header onclick="returnToDashboard()">
  <h1>Geonautica</h1>
  <p>Guess Subnautica Locations Across the Entire Subnautica Map</p>
  <div class="username-container" id="username-container">
    <input id="username-input" placeholder="Enter a Username (Not Priority)">
  </div>
</header>

<div class="gamemode-container" id="gamemode-container"></div>

<div class="entire-map-wrapper" id="entire-map-wrapper">
  <div class="version-inline">
    <strong>Version</strong><br>
    0.7.5-Beta<br>
    January 17, 2025<br>
    <button onclick="openUpdateNotes()">Update Notes</button>
  </div>

  <div class="discord-inline">
  <button
    class="discord-button"
    onclick="window.open('https://discord.gg/mgBkWZeGpG', '_blank')"
  >
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="Discord">
    Join the Discord!
  </button>
</div>
  
  <button class="entire-map" onclick="selectBiome('Entire Map')">
    The Entire Subnautica Map üó∫Ô∏è
  </button>

  <div class="credits-inline">
    <strong>Credits</strong><br>
    Main Devs ‚Äì ItsFrosti, Sprinter_31<br>
    Testers ‚Äì Spudato_64, Whotag
  </div>
</div>

<div class="panel" id="leaderboard">
  <h2 id="panel-title"></h2>
  <div class="mode-buttons">
    <button class="mode-btn active" id="normal-btn">No 360</button>
    <button class="mode-btn" id="mode360-btn">360</button>
    <button class="play-btn" id="play-btn">Play</button>
  </div>
  <p>Leaderboard Coming in Future Update</p>
</div>

<div class="panel" id="update-notes">

  <div class="update-notes-header">
    <h1>Update Notes</h1>
  </div>

  <div class="update-notes-layout">

  <!-- LEFT CARD -->
  <div class="coverage-column update-notes-card">
    <h3>Current Locations</h3>

    <canvas id="coverage-map" width="420" height="420"></canvas>

    <p id="coverage-count">Loading location data‚Ä¶</p>
  </div>

  <!-- RIGHT CARD -->
  <div class="notes-column update-notes-card">
    <h3>Version 0.7.5-Beta of January 17, 2026</h3>
    <p>Removed the Username as a Priority (Not Useful because of no Leaderboard)</p>

    <p>
      <strong>Current Biomes:</strong><br>
      ‚Ä¢ Safe Shallows ‚Ä¢ Kelp Forest ‚Ä¢ Grassy Plateaus ‚Ä¢ Mushroom Forest ‚Ä¢
      Bulb Zone ‚Ä¢ Blood Kelp ‚Ä¢ Underwater Islands ‚Ä¢ Crag Fields ‚Ä¢ Sparse Reef ‚Ä¢
      Mountains ‚Ä¢ Dunes ‚Ä¢ Sea Treaders Path ‚Ä¢
    </p>

    <h3>PAST Update Notes</h3>
    <h4>Version 0.7.0-Beta of January 7, 2026</h4>
    <p>
      This update Added the Grand Reef Biome
    </p>
    <h4>Version 0.6.1-Beta of December 29, 2025</h4>
    <p>
      Updated Score and Distance Range
    </p>

    <h4>Version 0.6.0-Beta of December 27, 2025</h4>
    <p>
      Compass Added to the Game. üòÄ
    </p>
  </div>

</div>


<script>
const IMAGE_MODE = { NORMAL: "normal", DEG360: "360" };
let selectedImageMode = IMAGE_MODE.NORMAL;
let currentBiome = null;

// Biome name mapping
const biomeKeys = {
  "Safe Shallows": ["Safe Shallows", "safeShallows"],
  "Kelp Forest": ["Kelp Forest", "kelpForest"],
  "Grassy Plateaus": ["Grassy Plateaus", "GrassyPlateus", "grassyPlateaus"],
  "Mushroom Forest": ["Mushroom Forest", "mushroomForest"],
  "Bulb Zone": ["Koosh Zone", "kooshZone"],
  "Blood Kelp": [
    "Blood Kelp", "bloodKelp",
    "Blood Kelp Two", "bloodKelpTwo",
    "BloodKelpTwo_Cave", "Bloodkelp_DeepTrench",
    "BloodKelp_Cave", "BloodKelp_Trench"
  ],
  "Underwater Islands": ["Underwater Islands", "underwaterIslands"],
  "Crag Field": ["Crag Field", "CragField", "cragField"],
  "Sparse Reef": ["Sparse Reef", "SparseReef", "sparseReef", "SparseReef_Deep"],
  "Mountains": ["Mountains", "mountains"],
  "Grand Reef": ["Grand Reef", "GrandReef", "grandReef", "deepGrandReef"],
  "Sea Treaders Path": ["Sea Treaders Path", "SeaTreaderPath", "seaTreaderPath"],
  "Dunes": ["Dunes", "dunes"],
  "Crash Zone": ["Crash Zone", "CrashZone", "crashZone"],
  "Floating Island": ["Floating Island", "FloatingIsland", "floatingIsland"],
  "Jellyshroom Caves": ["Jellyshroom Caves", "JellyshroomCaves", "JellyShroomCaves"],
  "Lost River": [
    "LostRiver_Junction", "LostRiver_Corridor",
    "LostRiver_GhostTree_Lower", "LostRiver_GhostTree_Skeleton",
    "LostRiver_GhostTree", "LostRiver_TreeCove",
    "LostRiver_BonesField", "LostRiver_Canyon",
    "LostRiver_SkeletonCave"
  ],
  "Inactive Lava Zone": [
    "ILZCastleChamber", "ILZCastleTunnel",
    "ILZChamber", "ILZChamber_Dragon",
    "LavaPit", "ILZCorridor"
  ],
  "Active Lava Zone": [
    "LavaFalls", "LavaLakes", "ALZChamber", "LavaPit"
  ],
  "Alien Base": ["Alien Base"],
  "Entire Map": ["Entire Map"]
};

const container = document.getElementById("gamemode-container");
const entireWrapper = document.getElementById("entire-map-wrapper");
const leaderboard = document.getElementById("leaderboard");
const updateNotes = document.getElementById("update-notes");
const usernameInput = document.getElementById("username-input");
const backButton = document.getElementById("back-button");
const panelTitle = document.getElementById("panel-title");
const usernameContainer = document.getElementById("username-container");

const normalBtn = document.getElementById("normal-btn");
const mode360Btn = document.getElementById("mode360-btn");
const playBtn = document.getElementById("play-btn");

const rows = [
  ["Safe Shallows","Kelp Forest","Grassy Plateaus","Mushroom Forest","Bulb Zone"],
  ["Blood Kelp","Underwater Islands","Crag Field","Sparse Reef","Sea Treaders Path"],
  ["Floating Island","Mountains","Dunes","Grand Reef","Crash Zone"],
  ["Jellyshroom Caves","Lost River","Inactive Lava Zone","Active Lava Zone","Alien Base"]
];

rows.forEach(row=>{
  const r=document.createElement("div");r.className="gamemode-row";
  row.forEach(name=>{
    const c=document.createElement("div");
    c.className="gamemode-card";
    c.textContent=name;
    c.style.backgroundImage=`url('Background/${name}.jpg')`;
    c.onclick=()=>selectBiome(name);
    r.appendChild(c);
  });
  container.appendChild(r);
});

function fadeOutDashboard(){
  container.style.opacity="0";
  entireWrapper.style.opacity="0";
  setTimeout(()=>{
    container.style.display="none";
    entireWrapper.style.display="none";
  },400);
}

 function selectBiome(name){
  currentBiome = name;

  backButton.style.display = "block";

  document.body.style.backgroundImage =
    name === "Entire Map"
      ? "url('Background/DashboardBackground.png')"
      : `url('Background/${name}.jpg')`;

  fadeOutDashboard();

  setTimeout(() => {
    leaderboard.style.display = "flex";
    leaderboard.classList.add("active");
    panelTitle.textContent = `${name} Mode Selection`;
  }, 400);
}

normalBtn.onclick=()=>{
  selectedImageMode=IMAGE_MODE.NORMAL;
  normalBtn.classList.add("active");
  mode360Btn.classList.remove("active");
};

mode360Btn.onclick=()=>{
  selectedImageMode=IMAGE_MODE.DEG360;
  mode360Btn.classList.add("active");
  normalBtn.classList.remove("active");
};

playBtn.onclick = () => {
  const biomeList = biomeKeys[currentBiome] || [];

  sessionStorage.setItem(
    "username",
    usernameInput.value.trim() || "Unknown"
  );

  localStorage.setItem(
    "selectedImageMode",
    selectedImageMode === "360" ? "360" : "normal"
  );

  localStorage.setItem("selectedBiomeDisplay", currentBiome);

  // If Entire Map, send empty list (game already handles this)
  if (currentBiome === "Entire Map") {
    localStorage.setItem("selectedBiomeKeys", JSON.stringify([]));
  } else {
    localStorage.setItem(
      "selectedBiomeKeys",
      JSON.stringify(biomeList)
    );
  }

  window.location.href = "game.html";
};

function openUpdateNotes(){
  fadeOutDashboard();
  backButton.style.display = "block";

  // HIDE username input
  usernameContainer.style.display = "none";

  setTimeout(()=>{
    updateNotes.style.display = "flex";
    updateNotes.classList.add("active");
  },400);
}

function returnToDashboard(){
  leaderboard.classList.remove("active");
  updateNotes.classList.remove("active");

  setTimeout(()=>{
    leaderboard.style.display="none";
    updateNotes.style.display="none";
    document.body.style.backgroundImage="url('Background/DashboardBackground.png')";
    backButton.style.display="none";

    // SHOW username input again
    usernameContainer.style.display = "flex";

    container.style.display="flex";
    entireWrapper.style.display="flex";

    setTimeout(()=>{
      container.style.opacity="1";
      entireWrapper.style.opacity="1";
    },50);
  },300);
}


/* ===============================
   LOCATION COVERAGE MAP
   =============================== */

async function renderCoverageMap() {
  const canvas = document.getElementById("coverage-map");
  const countEl = document.getElementById("coverage-count");
  if (!canvas || !countEl) return;

  const ctx = canvas.getContext("2d");

  // Load map image (same one the game uses)
  const mapImg = new Image();
  mapImg.src = "map_main.webp";
  await mapImg.decode();

  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(mapImg, 0, 0, canvas.width, canvas.height);

  // Load locations
  const res = await fetch("locations360.json");
  const locations = await res.json();

  countEl.textContent = `${locations.length} Total Locations`;

  // Subnautica world bounds
  const WORLD_MIN = -2048;
  const WORLD_MAX = 2048;
  const WORLD_RANGE = WORLD_MAX - WORLD_MIN;

  ctx.fillStyle = "red";

  for (const loc of locations) {
    const x = ((loc.x - WORLD_MIN) / WORLD_RANGE) * canvas.width;
    const y = ((WORLD_MAX - loc.z) / WORLD_RANGE) * canvas.height;

    ctx.beginPath();
    ctx.arc(x, y, 1.4, 0, Math.PI * 2);
    ctx.fill();
  }
}

/* Hook into your EXISTING Update Notes opening */
const _originalOpenUpdateNotes = openUpdateNotes;
openUpdateNotes = function () {
  _originalOpenUpdateNotes();
  setTimeout(renderCoverageMap, 350);
};
</script>

</body>
</html>